# 内核编程语言和环境

* 语言编译过程就是把人类能理解的高级语言转换成机器能理解和执行的二进制机器指令的过程。
* 描述Linux 0.12内核中使用的编程语言，目标文件格式和编译环境。介绍as86, GNU as汇编程序的语法和使用方法。

## as86汇编器

* 在Linux主要用于，创建16位启动引导扇区程序`boot/bootsect.s`和实模式下的初始设置程序`boot/setup.s`

### 汇编语法

* 用于将汇编语言翻译位包含机器码的二进制程序或目标位键
  * `as [option] -o objfile scfile`
* `BOOTSEG=0x07c0`: 伪操作符语句是汇编器使用的指示符。
  * 由操作码和0个活多个操作数组成，每个操作码都由一个点字符`.`开始，
  * `.`是一个特殊符号，表示编译过程中的位置计数器，其值是点符号出现出机器指令第一个字节地址
* 机器指令语句是可执行机器指令的助记符，由操作码和0个或多个操作数构成。
* 任何语句都可以有标号，标号由标识符加：组成。
  * 编译过程，当编译器遇到一个标号，那么当前位置计数器的值就会赋值给这个标号（代表所在位置的地址）
  * 所以，一条汇编语句可以由： `标号，执行助记符， 操作数`组成
* 一般汇编器编译产生目标包含三个段或区(section)
  * `.text`: 正文段(代码段)： 是一个已经初始化过的段，包含程序执行代码和只读数据
  * `.data`: 数据段： 已初始化过的段，包含可读写的数据
  * `.bss`: 未初始化数据段: 未初始化段
    * 通常汇编器产生的输出目标文件不会保留改段空间。但目标文件链接成执行程序被加载进操作系统会把该段全部初始化为0